오전 3:40 2020-12-08
새벽에시작.
좀만 하고 자야.

글 모드. 게시판 모드. 게시판 모드에서, 글 모드가 필요해보여.
이후 그림 모드도 말야..

정규형태
글 전용
그림 전용

이고,
글 전용은 핵심이, getjar한후에 그걸 바로 넣으면 안 돼.
대량 텍스트를 따로 빼내서 저장하고.
imgtower에 저장해야하려나결국..?
이름바꾸자.

그림만, 그림리스트에 속해있으면,,으로 검출하지싶은데요?

게시판제목 = {} 인 구조라서 더 정보를 못 넣겠어.동의하고.
요점은 겟쟈할때의 데이터를 텍스트로 넣겠단거잖아.

업로드 단계에서,게시판선택이 들어가고
그게 만약 글보드리스트 에 속해있다면, 본문을 텍스트로 내보내고
본문엔 파일명을 걸어주..고
ㄴ이 경우, 원본 txt와의 겹침문제가 우려 됨. 폴더를 따로 만들지 싶다.
_1390135 \ txt\ -.txt
식으로.

오후 4:49 2020-12-08
좀 더 본질적으로.
그렇다고 글 전용 포맷을 두기는 별로같아!
그냥, 램 200메가여도, 감수하는게 어떻겠어 인거야.

단일화를 하고.
현재는 입력이,모두같게들어가고

여기서 더 갈거면 db 쓰자 이거지.
뭐 나름 지금도 안되진않는데..
글이라는 형태가 너무 새롭고 이질적으로 들어갈거야.처리단일화가안됨.

유일한 문제라면, 200메가짜리 단일 파일이 나오는 경우, 이걸 쓰기 할때의 문제.
그냥 이걸 하느니 하..싶긴 하다.
아무튼,,ㅇ.
근데, 쓰기 속도가 걱정되면, 그냥 1분주기로하면되지싶은것이고.ㅇㅇ.
db가 48메가가 되었다.

쟈 속도문제만 보강하고, 그대로 가지 뭐.ㅇㅋ.
일단,150메가, 50메가로 끝났어, 모든 데이터가. 1000개의 문학이..!

쾌속주행.통과.
게시판분류는 없습니다.
그래,따지고 보면 2000개 글을 램에 적재하는대가가 고작 150메가라니,썩 좋지.
쓰기속도는, 분명 있는데, 자주 안 쓰면 되는거라고 생각해. 처리완료시 jar가 해제되고말야.
db 자체는, 램에 있고 파일만 쓰기백업되는거니 간섭 우려도 없고요.

오후 5:05 2020-12-08
하.리빌드..
rocketbox.html을 쓰되.. 여러 처리를 해야겠군.
감도 안 잡히지만 차차 할 수 있을거야.

데이터는 있다.
이제, 작은 뷰어부터 진행해야겠어.밀폐된, 바텀업 방식으로.
미니뷰어,확장뷰어, 확장된이후의기능들-댓글,태그,,

html 탬플릿부터. 이걸, pre로 불러와서, makebox( template = preno1) 식으로 들어가게.
매우 안정적이다.

와.좋네.
imgtower에 바로 안 넣으면 완벽하겠지만..
getjar수행시,, 중간에 중단해버리면, 이렇게 부유물은 떠돌게 된다.
dict에는 반영 안 됨. 이건 좋고.
tmptower를 둘까 싶은데..?
uuid라서 아마 문제없다는 계산이긴 하고말야.
근데 서버가 꺼지지 않는다면, return을 내뱉는거 외엔 자동처리가 되는것이야.ㅇㅇ.
즉,밀폐되어있으면, 클라에서 뭘 하든 처리되냐마느냐가 있을 뿐..ㅇㅋ.
혹시몰라서 2배계수를 3배로 늘림. 제대로동작하는듯.아마도.. 15메가짜리가 75초 찍힘.

오후 5:24 2020-12-08
와..그냥 결과물 edit as html로 처리함.매우훌륭하다..

css! 이거 곤란하군요..
박스에 해당하는 css만 하자니 겹침이 발생 우려가 있..
는데 ㄹㅇ 괜찮으니 그렇게 하지 싶다. css 여러개 있어도 되겠지?

이걸 다 밀폐하고 분리해야겠어.그게좋네.정말.후후.
ㅇㅇ진짜잘되는중. html 규격 좀 어긋나도 되는게 다행이야.

스타일을 그냥 안에 덧붙임. 이게 더 관리 좋지.
그.. css를 아예 분리하자.그래야, 그거 그대로 불러오기가 됨.
html에 붙어있으니 그게 안 되고 중복관리.ㅇㅋ.
오후 5:40 2020-12-08

이미지 박스의 크기는..?
기본적으로 미정인게 적절하다.동의.유동적으로변해야하므로.
일단 진행..

오후 5:44 2020-12-08
일단 정규화 한 듯 하고..
버튼 누르면 확장은..?

하..지금 구조가 막 나쁜 건 아닌데 말야.
그리고 외부에 크기 의존적이라서..
귀찮고,이후 관리를 생각하면, 굳이 할 필요 없기도 하다 인것이에요..
ㅇㅇ. 놀랄정도로 makeimgbox 안에 다 밀집되어있다.
..datas하고.

headdict는, 램에 보유하고있고.. 저기서 요청하면, 보내준다 였지.
버전확인 거치고, 비어있으면,불러온다 까지였고.
db측 버전까지는 해냈던상태.ㅇㅋ.

datas 코드는 유지하도록 하지.ㅇㅋ.

/id.jpg로 들어감.ㅇㅋ.

오후 5:57 2020-12-08
생각보다 너무쉽게끝났다. 그냥 건들지말고
datas 받기부터 수행함..

headdict
fluiddict

datas없음

fluiddict래ㅋㅋㅋㅋㅋ
eaddict는 로드후 datas 라는게 생기겠지.

헤드체크.
스캔해드를 돌리고, 이게, 이전것과 다르면
새로 할당하고,버전 업 한다.
헤드는,버전이 다르냐를,스캔 안 하고
못 얻는거겠지..? 인것인데..흠...
변경사항검색을 하려면 어쨌든이고
근데 fluid들이 변하니까, 그걸 빼고 채집해야.
결국 그냥 얻는게낫다이거가됨.

헤드체크를 했으면, head 가 보유중임.
head[board][0] 은 id이고
1은 데이터이다.

오후 6:06 2020-12-08
이전 코드가 좀 문제인게,
요청 들어오면, headcheck를 수행하는데,
그말은 scan을 1회 수행한다는것.곤란하네..
일단 ㄱㄱ.. 
흠..그냥 파일로 두는게 낫나?너무귀찮아짐.
그리고 단일 파일이 아니니, 갱신시마다..문제도.

리프레시시, 데이터 로드 하는데,
버전 관리 되니 자동으로 불러오겠죠.

조회수 등 리스트만 제공해주는게 어때.
ㄴ이걸 10초마다 스캔해야 좋겠고
ㄴ일단그냥두고

오후 7:26 2020-12-08
script에서 v=0.11 식으로 가거나
아예 그냥 매번요청때마다 보내주자.
ㄴ..는 엄청 별로같아.

..전체 보내기보단 낫지 뭐.
근데 이미 datas에 적재되었다고 해서, 그게 정말인지는 몰라.

1.쿼리거친리스트를 확보한 후에,
2.현재 보유한것에서 제외한 녀석을 요청해서, 받아서, update 한다.
3.
..

오후 10:07 2020-12-08
흠..
오후 10:29 2020-12-08
그냥 정석대로 하자.어휴;
클라에서 연산을 최소로 하고,
= js 코드가 극히 줄어든다
니까 좋은것이었어.

set의 연산도 다 서버에서 할까싶다.ㅇㅇ.
getjar때는 안되겠지만,뭐 어때.

그.. 연속띄우기에서, 이미 있는 nolist를 기반으로 수행했었지.
여기서 아마 reverse 외에는 굳이불필요할거야. ..아마.

리스트를 보유하고, 역변환이어도, 쿼리로 처리하시고이제
아무튼 리스트를 보여준다.
리스트는 보유할 필요가 없다. 띄워주고 끝.

이러면 다 좋은데, 이미 보유한 정보인 경우,,,를 다시 또 받게 되는것이야.
이미지 캐시만으로도 좋으면 몰라도.
ㅇㅇ.명목상으론 지금에선 최고속도 스크롤링이 되었지.로딩없이..

1.스크롤의 이벤트 발생시..
2.새로 head를 요청,결과를 받음 --여기서심각한지연우려..!
3.그걸,목록대로,죄다 뿌려버린다. 간단.

vs

1.쿼리문결과의 줄 리스트를 하나 받아 온다.
2.그걸,,번호순으로 잘라서 ,, ,결국 head를 받고.. --이경우, 쿼리가 1번에서만 수행됨.

헤드요청( [리스트] )
인 경우, 어케처리되지?

헤드를 보유 안 하고 있는건, 매우,매우 좋다고 할수있어.동의 해. 매우!
제목.. 날짜..썸넬이미지.. 등의 정보를, 번호에 대해 요청받으면되고,
그냥 직렬처리될듯. 매우빠르리라희망. ㅇㅋ.이렇게가자.

오후 10:42 2020-12-08
집중해서.

오후 10:45 2020-12-08
    initTagframe()
    initSortB()
    initColB()
    //initImgframe()
    initImgcol()
하고,

메인에서, 스크롤시,
fillImgcol(viewList,outFrame,pagenum)
가 발생되도록 한다.


init img col.
viewList 를, object.keys로 선언함.이걸..다르게 잡고.. 서버측에서 페치로 얻어오기.ㅇㅋ.
colnum은뭐냐;

function getColnum(){
  let colNumber = document.getElementById('colNumber')
  return parseInt(colNumber.value)
}
이게 왜 sortframe에 있는거지? sort..frame..
버튼이 저쪽에있어서 그래.아하..

fill imgcol 을, pagenum을 달고 있다,지금은.
이걸 그냥 받아온 번호head를 탈탈 털어넣어줘야하지않나싶은것이야.ㅇㅇ..
페이지넘버는,왜좋냐면..
왤까.
보존되고있어, fill img col 때.
이젠,불필요하겠지..


오후 11:10 2020-12-08
그냥, datas를 받아버리자. 그게 젤 속 편한 듯.
너무,,너무 혼란해져...
ㅇㅋ..다시 회귀하기로 함.
서버한텍서 이미 읽은 글 정보를 hjead를 또 얻기 정말 싫은거야.
그거에비하면 그냥 15메가 한번만 받고 말지 뭐 의 것.
2000개로는 용량 50kb정도일텐데뭐 싶기도 하고.

datas = fetchHead()
단 이거 한 줄 추가 되었다.이게 옳지 싶어. 응.

현재버전만주고 head 받아오기.ㅇㅋ.

tmpdict[headimgkey].append( i.split(id)[1] )
에..너무 지저분한거 같은데요..

새로고침시.현재 가지고 있는게 변수라면,초기화 되겠지..?
ㅇㅇ당연하지.
ㅇㅇ이거안하려고 script로 걸었던거고..
script는 버전 업을 대비해서, html에 명시가 되어야 한다.
매우 별로같아보인다.
새로고침시 15MB가 강제되는건 매우,매우 기분나쁘긴 한데요..
이건 저장도 안 되잖아.ㅇㅇ.
진짜 20MB야. 따로처리안할시.
그냥,실시간성을 포기하고, 던져주도록 하자.ㅇㅋ.
캐시 expire 주기를 짧게 주지 뭐.ㅇㅇ.

매우 동의합니다.네.
ㅇㅇ 다들 보통 1메가만 로드된다고.
그럼 이제 문제가, 내가 원할 때, 새로고침을 어떻게 하죠??
<script type="text/javascript" src="myfile.js?$$REVISION$$"></script>
아.
렌더.
아.
매우 좋다. 바로 적용.ㅇㅋ.

오후 11:57 2020-12-08
잘 되고 있고
같은 rocketbox를 쓰고, /aref 로 링크는 있더라도,,,,,,,
요는,게시판 분리를 어떻게 하느냐는것이야. 5분안에해결될문제일듯.
/view/board
이 들어가겠지.
그럼,
return render_template('rocketbox.html', boardname = board, headver = headver )
로 처리함.기가막히군.!

.js?version=int
브라우저는,버전이또있으면,또 저장한다고 함.ㅇㅋ..

Cache-Control: max-age=86400, must-revalidate
must-revalidate는 만료된건사용안됨.ㅇㅋ.

<script type="text/javascript" src="./static/head{{board}}.json?{{headver}}"> </script>
까진 했고
must를 넣어야, 업뎃되었으면 그걸 쓴다가 되겠지.ㅇㅇ..

오전 12:11 2020-12-09
..된거같은데
보드네임은 바로들어가서 js파일 잡고,
버전을, 1.1인상태에서, ㅇㅋ하겠고
newdb의 head가, 1.1이 아닌상태라면, 1.2라면, html에 1.2가 명시되고,
그러면, 아.새로 로드해야겠군! 하고 캐시를 버리고 새로 받는다...

1.1이 그대로면, ㅇㅋ이건통과함
이 되고.
..어이없이 잘 된듯.

static에 head라는 폴더를 만들어야겠어.음..

    headver = newdb.head[board][0]
KeyError: 'static/resource/banner/뮤즈.jpg'
아하..

이문제 며칠전에 어케 해결했나 기억이 안 나..

즉, view에서, 기본페이지만 로드해주고, a 누르면, post로 처리된다던가..?
쿼리니까..쿼리로되면되겠지..?
거의 다 왔어...

headver = newdb.head[board][0]
라는게없다.헤드가없겠죠. init때 헤드 걸어야.ㅇㅋ.

try:
    backdown()
    boardList = list( db.keys() )
    for board in boardList:
        headcheck(board)
    print("db backup loaded")

잘 함.램에 이제 보유되고 있겠지.

    "_2930f77e-d42e": {
        "제목": "호노카 러브라이브 삼학년",
        "날짜": "",
        "리사이즈": []
가 되어버렸다. 날짜는 채워 줘야지. getjar하고나서, 날짜를채워준다..
if newdict[id][ newdb.date_key ] == "":
                newdict[id][ newdb.date_key ] = uploadtime
를 붙임...이 부적절했기에, txt에서 처리한거랑 같은걸 함. 잘했다.
None으로 일단 getjar에서 들어오고, update때 덮이는거였어.

700이 부족하다.의외네.ㅇㅋ.반영하고..
아냐,부족한건아닌데보니까이상해지는것.ㅇㅋ.

오전 12:33 2020-12-09
일단 충격적이게도, datas 이용하는 로드까진 된다.허..

view에 js가 끼어있어서, 7.4kb나 된다.줄일수있지싶고..

http://localhost:12800/view#
를 하는 안이 나옴.썩 별로같지만..괜찮나?

id="imgArea__aec709c9-fcc6"
로 뭔가 좀 지저분한데;
@로 바꿀까?
아.기억났고.. 괜찮겠지뭐.ㅇㅋ..

?1607441453088
버전이 지금 로드되어있다.
서버 껐다키니, 8440버전으로 바뀌고, 헤드만 교체됨.!!!ㅋㅋㅋㅋㅋㅋ
와..이걸 해냅니다...

오전 12:38 2020-12-09
다음.

헤비페치가 왜 동작하지?? 아..이거 바디를 가져오나보다.
아하..

#는 역시 스크롤 저장으로 하고.네.
쿼리를쓰자.어디있겠지.

/view?board=xxx
식으로 들어가겠지.아주좋다.

 /static/imgtower/_01a71348-7b30/resized/undefined
가 발견됨.ㅇㅋ..

쿼리문,진짜 기가막히게 잘 됨.한글도 그대로됨이포인트!

{% for board in boardList %}
<li><a href="?board={{board}}" title="{{board}}">{{board}}</a></li>
{% endfor %}
이게,이게 진짜 오늘의 두번쨰 혁멍적인 것..

오전 1:30 2020-12-09
http://liltbox.iptime.org:25252/view?board=%EB%89%B4%EB%B3%B4%EB%93%9C
새로고침해도 이게 안 없어져!
는 로고 누르면 됨.오지군.
head_추가보드.json?0
이..
없다는데
..진짜 없네;
    "추가보드": {},
라서 그렇겠죠?

즉,초기 선언때 처음글입니다를 놓아두거나
헤드딕트를,어떻게든 내보내도록 하거나
파일자체가없으니문제!

head[board] = [ "0",{} ]
라서, {}면 같으니 굳이 안 함 ㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋㅋ
없는게 썩 좋은데말야...
if newhead != head[board][1] or head[board][1] == {}:
로 만들어줬음.깔끔하네.

오전 1:38 2020-12-09
다음.

<a href="/newboard">게시판 생성</a>
./가 좋을까, /가 좋을까? 루트니까 이게좋군.
아.루트가 이거구나..아..


<script type="text/javascript" src="./static/js/initsortframe.js"> </script>
그래서 이게, 전단계의..로 들어가는거였아.아하..

근데 로컬에서 하면 /면 c로 들어가버리니 썩 귀찮았던거야.
그래서 현재위치의 상대경로로 한게 원인이었구나.
아하.>!!!
오전 1:47 2020-12-09
오짐..얼떨결에 다 해버렸다이건.

게시글삭제, 원턴삭제되니 주의.

게시글삭제에서, 검색하면, 강조스크롤되니 썩 좋다.
모바일은 안 될것같지만. 모바일크롬도 검색 됨. 막 나쁘진않고
근데 보기모드에서 삭제있는게 ㄹㅇ편할듯. 보다바로지우니.ㅇㅇ.

오전 1:54 2020-12-09
본문로드 바로 ㄱㄱ.
let imlist = datas[no]['리사이즈']
이거 그대로 들어가는게,진짜 좋다..진짜..

의외로 본문로드 fetch로 들어가네.
heavyfetch는 어디쓰이지?이후조사하기.

페치에서, jsonify를 서로 하는게 낭비같아.
xml이면 차라리 나았으려나? ㅇㅇ아마..
근데 그건 200등 처리 귀찮아.

흠..지금은 보드 명이 안 잡히는걸..귀찮네.. 클래스리스트에
추가할까싶다만.
==를 넣은게 있으면 심히 귀찮겠지.
ㅋㅋㅋ그냥 커스텀 attr 넣지 뭐.

오버레이뷰, 이벤트바디로드 두개가있다.알고있고..

...그러네. 버튼 속성에 board를 넣는다 쳐도
그걸 어떻게 알지?
1.쿼리버튼 눌린 결과가 url에 남아있다.
그게 아니면, 현재 보는 보드명은 알수가 없겠지.그치?

... 이참에 / 로 다 바꿀까??? ./이 한번 위의 경로임은 너무명백함.
ㅇㅇ동의함. /view 들어갔으면, 이게 붙어야지.
아니,거부함. 보통 들어갈때 지금 편의상이지,
/view 를 애초에 안 쓰게 하는게 낫지싶어.ㅇㅇㅇㅇ.

타이틀화면이 또 있거나, 아니면 /로 연결시 /view/gallname
으로 리디렉션해야함이 옳다.동의함.ㅇㅋ.

1번을 가정하고 진행.ㅇㅋ.
포스트시 막 쿼리..쿼리는 board= 로 검출됨.휴.ㅎㅎㅎ.
window.location.search
로 바로 집음.

보드명 영어만되게해야하려나?하..

a.split("board=")[1]
"%EB%89%B4%EB%B3%B4%EB%93%9C5"
음..

decodeURI(b)
"뉴보드5"
의외로넘간단하게됨.흐흐흐.

https://www.google.com/search?q=%EC%95%84%EC%B9%B4%EB%9D%BC%EC%9D%B4%EB%B8%8C&oq=%EC%95%84%EC%B9%B4%EB%9D%BC%EC%9D%B4%EB%B8%8C&aqs=chrome..69i57j0i433j0i131i433j0i20i263j0l4.5655j0j4&sourceid=chrome&ie=UTF-8

?q=%EC%95%84%EC%B9%B4%EB%9D%BC%EC%9D%B4%EB%B8%8C&
oq=%EC%95%84%EC%B9%B4%EB%9D%BC%EC%9D%B4%EB%B8%8C&
aqs=chrome..69i57j0i433j0i131i433j0i20i263j0l4.5655j0j4
&sourceid=chrome
&ie=UTF-8

굿.&전까지끊자.
아.이래서 이게 즐찾저장이되었던거군.아하..

window.location.search.split("sourceid=")[1].split("&")[0]
로 대충 됨.ㅇㅋ.
window.location.search.split("sourceid=")[1].split("&")[0]

오전 2:23 2020-12-09
let no= preimg.parentElement.id.split('_')[1]
이런거있으니참고.일단괜찮겠지.
오버레이뷰어는, 이미지를 클릭해야 발동해서, 버튼에 뭘 넣기가 힘드네..흠..
board를 전역변수로 갖고있을까? 되게 별로같긴한데..
램 생각하면, board를 막 넣는것도이상하고.

오전 2:27 2020-12-09
일단 잘 됨. ㅇㅋ. 다른변수도 init img frame 쯤에 있길래 거기넣음.ㅇㅋ.

/fetch?no=_8adbd410-2b59&key=본문&board=newboard
post라서, 서버측엔 이렇게 들어옴에 유의.ㅇㅋ.
200잘떴다.

Readablestream으로 들어오는군. 텍스트로 깔끔했음좋겠다.

소설은 오지게 길다. 접기 있음 좋으려나..
한줄로 보는게 매우권장됨. 두줄하니 진짜싫어진다;

접기는, 구현이 불가능에 가깝다. 텍스트삭제, 썸네일로다시변경,,언제다해.어휴.
ㄴ이러지 말고,
박스를,,어쨌든 새로 쓰기 해야하니 싫다이거야.
이게 순서적으로 함수가 분리되어있었음 중간 코드만 갈취하면 되겠네.아하.

매우,매우 좋습니다..
하..진짜좋다. view 가8kb인거만 어째하면.
근데이건뭐.ㅇㅋ.
본문로드 컷. 이제 이미지.
진짜거의다했네,갑자기!

./static/imgtower/_0e8d264b-58b6/resized/undefined

"리사이즈": []
니까생긴 일.

  let thumbPath = './static/imgtower/'+no+'/resized/'+datas[no]['리사이즈'][0]
  //if(miniLoad==1){ thumbPath = './static/imgtower/' +no+ '/thumb/' +datas[no]['썸네일'][0] }
  if(miniLoad==1){ thumbPath = './static/imgtower/'+no+'/thumb/'+ no+'_1.jpg' }

둘다 파일명강제교정.있을거라믿고우겨넣음.

썸넬말고도, 실제로드시도 해결해야하고
하.. 이미지 없으면, 오버레이뷰어 못 가동한다.하....

썸넬없으면 처리해주는거 대체이미지를 강력권장함.

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<title>404 Not Found</title>
<h1>Not Found</h1>
<p>The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.</p>

와.. 실제경로지정한경우 이렇게뜨는군.
아니면 undifiend 로 들어가고.ㅇㅋ.

len==0이면 공통썸넬을로드
vs
에러나면 가로채기..당연 전자지?

오전 2:56 2020-12-09
지금은, 리사이즈이미지를,서버 안거치고 어떻게든 보여주고자 했네.흠..
근데이미다받긴하지뭐.ㅇㅋ.

imlist 에서 foreach돌리면 참-좋겠는데말야.
함수내에서 함수선언이 되잖아..?
하..건드리기싫게생겼다;

temp1.parentElement.id.split('_')
(3) ["imgArea", "", "6071c740-24fc"]
진짜 이게 문제되었어!

어? 이거 번호 안 섞이게하려고 한거였잖아.
..
하.
PNG 파일이 안 걸린듯. jar에서..ㅇㅋ.

not img or txt.skip file

jar에서, 진짜 안 들어있었길래 lower()붙여줌.ㅇㅋ.
오전 3:19 2020-12-09

뭐야3시네; 자자.

위로 버튼이,위로가있음;
글인경우.

위로랑 본문글이 너무가깝다. 한칸띄워야겠다.
..버튼을 위치변경하거나.링크때문에 그게날듯..?

그...같은 파일있으면 못 만듭니다.게시판이 달라도요.
역시 이거 뺄까?
개념상은 빼는게 낫지 싶다.
<br 두개붙임.ㅇㅋ.훌륭.

그.본문중간링크 삭제됨. 하.. 차차 하시고.이것까지하고싶진않아.
물론하겠지만.

링크
링크
링크
링크
링크
링크
이렇게나와버리니,클릭하기 심히 불편하다.어쩌지?
일단 +'\n' 더붙임.ㅇㅋ.

이거, 텍스트뚫고나감해결하려고 이렇게된듯해.
흠..

오전 3:37 2020-12-09
일단 괜찮은데, 죄다 위에 올리고 시작하는거락서..ㅇㅇ.

역시 넘친다.이걸 잡아야지.ㅇㅋ.
일단 링크는 죄다 땡겨버리긴 했다.ㅇㅋ.

어..좀 될거같은데,
본문에서 해당그걸 찾으면,실제로 찾고, 그럼 그거만
샥 바꾸면 됨.
오오..

  File "C:\GitHub\material_viewer\flask_dbserver.py", line 86, in fetchParse
    valueText = datas[no][key]
오버레이뷰어에서 이게들어가네;
본문보기시같음.ㅇㅋ.

rawText = temp1.value
urls = rawText.match(/\bhttps?:\/\/\S+/gi)

for(u of urls){ console.log( rawText.indexOf(u) )}
for(u of urls){ console.log( rawText.slice( rawText.indexOf(u) ) )}

for(u of urls){ console.log( rawText.slice( rawText.indexOf(u), rawText.indexOf(u)+u.length ) )}


for(u of urls){ console.log( rawText.split( u ) )}
스플릿은 문제가있..나?
흠..되게지저분하군.
그냥 포기할까싶기도.


for(u of urls){ console.log( rawText.slice( rawText.indexOf(u), rawText.indexOf(u)+u.length ) )}
가,링크까진 얻는다. 이제 아닌구간만 잡으면됨.거의다왔어.

for(u of urls){
console.log( rawText.slice( rawText.indexOf(u), rawText.indexOf(u)+u.length ) )
console.log( rawText.slice( rawText.indexOf(u)+u.length , rawText.indexOf(u+1)   ) )
}
u 하고 u+1이 되나?
제거하는게 젤 좋은데.잘라내기로..
concat이 붙여내기니,분명 있을거야.

for(u of urls){ console.log( rawText.split(u)[1] ) }


오전 4:00 2020-12-09
1.첫번째 u의 인덱스 전까지의 것을 모두 더한다.
2.u를 링크처리해서 더한다.
3.u의 인덱스 다음부터, 다음 u의 인덱스까지를 더한다.

3번이 핵심이네.
replace할까? 
?를
<arefawef어쩌고 ? ><br><br>
로 바꾸면 되지.
좋네..

for(u of urls){ rawText = rawText.replace(u, '3')  }
ggg
ㅋㅋㅋㅋ
오전 4:04 2020-12-09

rawText = temp1.value
urls = rawText.match(/\bhttps?:\/\/\S+/gi)
for(u of urls){ rawText = rawText.replace(u, u.link(u)+'<br><br>' )  }
..진짜 된거같은데요

replace를 극적으로 썼다. 원래 대체가 실제로 그러했으니, 이게 적절하네요.ㅇㅋ.

아..u가 포문 돌면서 자가잠식되었다.아아..
같은 url인 경우에는이로군.흠..
그럼 같은거있으면,,
대체한번했으니, 더 안하도록 해야할까?
아니면, twitter.com 과 twitter.com/view
가 있는경우, 1번이 강제로 다 교체되고마는걸까...
1번에 다 교체 조지고 시작하겠지..하...
긴 문자열 순으로 정렬 하면 괜찮긴 하겠다.
근데 이래도 결국 다 찾으니까..

그냥 하던대로 두기.위에모으자.예.
오전 4:14 2020-12-09
//rawText = rawText.replace(u, u.link(u)+'<br><br>' )
        //tryed this , but twitter.com  and twitter.com/view problem..ha.
결국다롤백.ㅇㅋ.

오전 4:20 2020-12-09
let remain = ''
      for( var i of rawText2.split(u) ){remain+=i}
      rawText2 = remain
대체 왜 이런 코드가 있는거지..
*link*
붙임.ㅇㅋ.

대충 구분은 되니 썩 만족.ㅇㅋ.

---
다음..

자자...
오전 4:23 2020-12-09
진짜 자야겠다..

링크 튀어나옴.어디서 해결했던듯한데요..
아.
넘어가면,줄내리기인데,
애초에 영역을 프리하게 잡아놔서지금
그래서 막 변하겠군.
이거 ㅇ나 하려면 ..
화면비별로 퍼센트로 간격 잡히고,
그거에 고정되면 참 좋을텐데말야..!

실제로 박스크기가 미정이다.
max를 이미지로 지정한다고해도 이상해지고.

오전 4:27 2020-12-09
지금, 전체 면적중에 50%로 나눈다 라는 법칙이 적용 안 되고있어.

1.플렉스, 50퍼면, 전체 뷰포트의 절반으로 할당..
2. 전체 뷰포트는, imgbox의 크기에 의해 쭉 밀리기도 한다..

이 두개가 서로 엉킨듯. window의 width 같은게 vsible 같은거를 잡고,
ㄱ거에서 반 나누던가 하게하자.ㅇㅋ.
오전 4:29 2020-12-09
내일.

페치 해결.오버레이뷰도.ㅇㅋ.


sort!

댓글쓰기
태그쓰기
좋아요하기
내 업로드 보기
고속태그입력모드

이럼대충끝인듯.ㅇㅋ.

삭제버튼 글에서추가..? 자기업로드분이면 보여야좋은데..하..
아니.마스터면 보이게하면되지..가안되네 ㅇㅇㄹㅇ.하.귀찮다..
귀찮..다고?..? 그럼 ㄹㅇ 그냥 확..
검색기능만 붙여 두자도 좋겠고..
하..근데 ㄹㅇ 바로보는데하는게낫지원. 아근데리스트 저기서 땡겨올수있음.ㅇㅋ.

물론그래도 바로보는데가 좋겠지만, 이미다갖춘거 진짜 귀찮겠다. id에 보드 다 있지만..

오전 4:35 2020-12-09
아...4시간어치 녹화 안 됨.12시에서 끊겨있다.하..................................
이래서 그냥 숨김이 낫구나!

col1 에 대해서 flex가 미지정이라 문제같았다. 잘 처리된듯.
글자는, p로 묶어서 해냈다. 어휴; pre 안에 그냥 글자 들어가있어서 혼동.

이미지가 700px라서 maxwidth 걸림.ㅇㅋ

오후 10:44 2020-12-09
다음.

아니 역시 다 깨진다.

.imgCol .col3
는 지금보니 먹힐 리가 없는듯한데..

오후 10:49 2020-12-09
대충넘어가고

다운 버튼

댓글
태그
좋아요
추천

버튼과 영역의 추가..
하...

//bodyB.board= board
를 안 넣고 전역으로 쓰는 건 미친 짓이야.

board는 뭐 냅두지.ㅇㅋ.

오전 12:14 2020-12-10
힘내서다시진행.
오전 12:14 2020-12-10
와....... 오버레이뷰때는, 원 이미지 소스가, 저기 원래 클릭시의 이벤트발생시의
것으로 되어버려서..그래서 id 등이 잡힌 것이었따.허..
오버레이뷰 자체에선 아무 능력이 없는것이었다..
되게 기분나쁜 방식이로군.!

로드 버튼에, 걸려있는건 꽤나 별로같은데요..

board 라는 정보는 단 창 하나에 있는게 좋겠지.

그리고, 오버레이뷰도,, 내부처리가 밀폐되어서 수행되어야..
오버레이뷰 클릭시,
해당 이미지가 속한 상위 박스의, id, board를 가져와서,
타겟 에어리어 안에 전개해야지. 동일하게.

근데 이게 풀전개다보니, 풀전개시 발생하는 로드에의한 스크롤 떨림이 엉겨붙어있어서
곤란한것이야.ㅇㅋ..


오전 2:45 2020-12-10
버튼에 이상한걸 안 넣는게 좋겠다.어휴;;;
[17]만 넣거나,
그냥 하지말거나.
진짜, 더럽게 되지 말도록 조심하기..


물론 버튼 눌리면 바뀌면 좋지.
value 를 1로 바꾼다 치자.
css에 의해 바뀐다 치고.
심하게 꼬이는 듯.
어휴; 이런거 얼른 대충하고 튀자.
ㅇㅇ.

버튼 이라는 글자를, 처리완료로 바꾸자.ㅇㅇ.
그러면 끝?? 중복처리는 알아서 되겠고.
이미 누른상태에서 또 눌러도 어쩔수없는거에요고
누른상태 철회는 안 되는거에요고.
이거두개면되지싶다.

이러면 또 문제가, 누를때, 해당 긂 ㅗㄱ록에, 사람이 잆나 확인하고, 없으면 추가인데, 그건 애초에 ㄹㅇ 그런거니까뭐.ㅇㅇ.

state 받아서, 이미눌렀습니다! 를 띄우기는 할 만해보임.썩 동의함. 후후후..

1.리턴시, 잘처리되면, 글자바꾸고
2.리턴시, 잘안되었으면, 글자 바꾸자.
얼마나 간단하니;

추천
좋아요
신고
..?

하......
ㅇㅇ 나아가자. 하나만 하면 3개가 되는거야.>!

view_key    ="조회"
recom_key   ="추천"
like_key    ="좋아"
hero_key    ="주연"
tag_key     ="태그"
comm_key    ="댓글"

조회.아.
아..

이거도 버튼 만들어서 히든 하고 추가하기.ㅇㅋ.개꿀이다이거야. 이렇게좀하자.

조회	봤음
추천	
좋아	

댓글
태그

value를 바꾸고, css만 처리하면 돼.어때..?
메인이 통합이라 웬만하면 문제없겠지싶긴한데요..
글자 바꾸려니, 사용자경험상 부적절함.
ㅇㅋ그럼 css 저기가서 보고.
  .sortB[value="1"]{
    /*background-color: black;*/
    background-color: #ccffcc;
  }
  .sortB[value="2"]{
    /*background-color: black;*/
   background-color: orange;
  }
로 잘 됨. ㅇㅋ.ㄱㄱ

느리다고 다다다다 누르면, 취소 추천 취소 추천
이러면 진-짜 싫겠어.어휴.
근데 좋아요는 ㄹㅇ 그렇게하는게타당함.
추천도 그러하지않을까요??

ㅇㅋ.ㄱㄱ.

와.. 익명이면 추천도 못 해?
ㅇ.

그냥, 정수로 관리하면,진짜 편할텐데..싶다.
내 좋아요 한 목록: 은 어케얻지??-쿼리로,느리게.ㅇㅋ.
조회,추천을 그냥 정수로 할까싶음...은 역행이니 ㄴㄴ지만.

ㅇㅋ..ㄱㄱ.

newdb.addrecom( board, id, user ) 하려니까, 왠지..
이거로는 1회처리가 되지 않아.

getrecom 뭐 이렇게할까?

처음누른경우
이전에이미누른경우
누르는건데,해제하는경우
2,3번을같이하자.

하이거야난다네.. 추천등은 그냥 정수처리하자.진짜 사악해지는군;
추천 취소를 안 하게 하거나.
취소하면, idx를 비우게된다.진짜싫을것.

오전 4:26 2020-12-10
댓글 삭제가, 구현 최고난이도였다.하...
오전 4:39 2020-12-10
잠